(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{uoM7:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),a=function(){},i=t("pMnS"),r=t("6UMx"),o=t("0/Q6"),u=t("LC5p"),s=t("Fzqc"),d=t("Ip0R"),c=t("Wf4p"),p=e.Ma({encapsulation:2,styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],data:{}});function m(n){return e.hb(2,[],null,null)}var h=t("dJrM"),g=t("seP3"),f=t("gIcY"),y=t("b716"),b=t("dWZg"),v=function(){function n(n){this.elementRef=n,this.ready=new e.n,this.playlistItem=new e.n,this.error=new e.n}return Object.defineProperty(n.prototype,"Player",{get:function(){return this.player},enumerable:!0,configurable:!0}),n.prototype.ngAfterViewInit=function(){this.setupInternal()},n.prototype.setupInternal=function(){var n=this,l=window.jwplayer(this.playerEle.nativeElement).setup(this.settings);l.onReady(function(){}),window.addEventListener("resize",function(){}),this.player=l,this.player.onReady(function(){n.ready.emit()}),this.player.onPlaylistItem(function(l){n.playlistItem.emit(l)}),this.player.onError(function(l){n.error.emit(l)}),this.player.onSetupError(function(l){n.error.emit(l)})},n.prototype.setupIFrame=function(){var n=this,l=this.iframe.nativeElement;l.onload=function(){var t=l.contentWindow,e=t.document;t.init=function(n){var a=e.createElement("div");function i(){var n=e.getElementById("player");l.width=l.parentElement.parentElement.clientWidth+"px",l.height=n.scrollHeight+"px"}a.id="player",e.body.appendChild(a);var r=t.jwplayer(a).setup(n);return r.onReady(function(){i()}),window.addEventListener("resize",function(){i()}),r};var a=e.createElement("script");a.src="assets/jwplayer/jwplayer.js",a.onload=function(){t.jwplayer.key="5YkESdD6u5l8luORkA5ZUOdzUGDlzokaiidsaw==",n.player=t.init(n.settings),n.player.onReady(function(){n.ready.emit()}),n.player.onPlaylistItem(function(l){n.playlistItem.emit(l)}),n.player.onError(function(l){n.error.emit(l)})},e.head.appendChild(a),e.body.style.cssText="margin: 0; overflow: hidden;"}},n}(),w=e.Ma({encapsulation:0,styles:["iframe[_ngcontent-%COMP%] {\n            border: none;\n        }"],data:{}});function C(n){return e.hb(0,[e.db(402653184,1,{iframe:0}),e.db(402653184,2,{playerEle:0}),(n()(),e.Oa(2,0,[[2,0],["player",1]],null,0,"div",[["id","player"]],null,null,null,null,null))],null,null)}var O,_,M=t("Mr+X"),Y=t("SMsm"),P=t("5U9e"),k=t("lGQG"),x={playlist:[{image:"/assets/images/yoc.png",title:"Default",description:"Stream stuff, mane",file:"rtmp://gcloud.adam-keenan.com/live/default"},{title:"TEST",description:"Nothing to see here",file:"rtmp://gcloud.adam-keenan.com/live/test"},{title:"Movienight",description:"We watch movies together",file:"rtmp://gcloud.adam-keenan.com/live/movienight"},{title:"Mike",description:"Mike plays gams",file:"rtmp://gcloud.adam-keenan.com/live/mike"}],width:"100%",aspectratio:"16:9",hlshtml:!0,primary:"flash",autostart:"yoc.adam-keenan.com"===window.location.hostname&&!1,skin:{name:"glow"},logo:{file:"/assets/images/yoc-100px-50a.png",hide:!0}};!function(n){n.Connect="chat:connect",n.Disconnect="chat:disconnect",n.Message="chat:message"}(O||(O={})),function(n){n.ViewerCount="stream:viewerCount"}(_||(_={}));var I=function(){function n(n,l){this.socket=n,this.auth=l,this.flashNotAllowed=!1,this.viewerCount=0,this.settings=x,this.intervalID=0,this.unreadMessages=0,this.title=window.document.title}return Object.defineProperty(n.prototype,"messages",{get:function(){return(JSON.parse(localStorage.getItem("chatMessages"))||{})[this.currentPlaylist]||[]},set:function(n){var l=JSON.parse(localStorage.getItem("chatMessages"))||{};l[this.currentPlaylist]=n,localStorage.setItem("chatMessages",JSON.stringify(l))},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;this.filterOutOldMessages(),this.socket.on(_.ViewerCount,function(l){n.viewerCount=l}),"denied"===Notification.permission&&"granted"===Notification.permission||Notification.requestPermission(),void 0!==window.document.hidden?(this.hiddenAttr="hidden",this.visChangeEvent="visibilitychange"):void 0!==window.document.msHidden?(this.hiddenAttr="msHidden",this.visChangeEvent="msvisibilitychange"):void 0!==window.document.webkitHidden&&(this.hiddenAttr="webkitHidden",this.visChangeEvent="webkitvisibilitychange"),window.document.addEventListener(this.visChangeEvent,function(){n.isTabbedAway()||(n.unreadMessages=0,window.clearInterval(n.intervalID),n.intervalID=0,n.updateTitle())})},n.prototype.onPlayerReady=function(){},n.prototype.onPlaylistItem=function(n){this.currentPlaylist=n.item.title,this.messages?this.filterOutOldMessages():this.messages=[]},n.prototype.onError=function(n){"Error loading player: No playable sources found"===n.message&&(console.error(n),this.flashNotAllowed=!0)},n.prototype.sendChat=function(n){13===n.keyCode&&""!==this.text&&(this.socket.emit("chat:message",{user:this.user,text:this.text,playlist:this.currentPlaylist,timestamp:Date.now()}),this.text="",n.preventDefault())},n.prototype.isTabbedAway=function(){return window.document[this.hiddenAttr]},n.prototype.updateTitle=function(){window.document.title=this.unreadMessages>0?"("+this.unreadMessages+") "+this.title:this.title},n.prototype.addMessage=function(n){var l=this.messages;l.unshift(n),this.messages=l},n.prototype.generateGuestName=function(){var n=Math.floor(1e4*Math.random());this.user="Guest#"+n},n.prototype.setupUser=function(){this.auth.isAuthenticated()?(this.user=this.auth.name,this.socket.emit(O.Connect,this.user)):this.generateGuestName()},n.prototype.filterOutOldMessages=function(){var n=Date.now(),l=this.messages.filter(function(l){return n-l.timestamp<864e5});this.messages=l},n}(),N=e.Ma({encapsulation:0,styles:[[".stream[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border:none}.stream[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end;background:#d3d3d3;padding:5px;margin-top:-4px}.stream[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{position:absolute;right:15px;top:75px;bottom:15px;width:400px}.stream[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:50px;resize:none}.stream[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{margin-top:-17px;overflow-y:auto;height:calc(100% - 79px);word-break:break-word}.stream[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{color:rgba(0,0,0,.87)}.stream[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:nth-child(even){background-color:rgba(0,0,0,.1)}"]],data:{}});function W(n){return e.hb(0,[(n()(),e.Oa(0,0,null,null,1,"object",[],null,null,null,null,null)),(n()(),e.Oa(1,0,null,null,0,"embed",[["src","/assets/jwplayer/jwplayer.flash.swf"]],null,null,null,null,null))],null,null)}function E(n){return e.hb(0,[(n()(),e.Oa(0,0,null,null,15,"div",[["class","message"]],null,null,null,null,null)),(n()(),e.Oa(1,0,null,null,12,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"focus"],[null,"blur"]],function(n,l,t){var a=!0;return"focus"===l&&(a=!1!==e.Ya(n,2)._handleFocus()&&a),"blur"===l&&(a=!1!==e.Ya(n,2)._handleBlur()&&a),a},r.c,r.b)),e.Na(2,1097728,null,2,o.c,[e.k,[2,o.f]],null,null),e.db(603979776,9,{_lines:1}),e.db(335544320,10,{_avatar:0}),(n()(),e.Oa(5,0,null,2,8,"div",[],null,null,null,null,null)),(n()(),e.Oa(6,0,null,null,2,"small",[],null,null,null,null,null)),(n()(),e.fb(7,null,["",""])),e.bb(8,2),(n()(),e.fb(-1,null,["\xa0 "])),(n()(),e.Oa(10,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.fb(11,null,["",":\xa0"])),(n()(),e.Oa(12,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.fb(13,null,["",""])),(n()(),e.Oa(14,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-inset",null]],null,null,m,p)),e.Na(15,49152,null,0,u.a,[],null,null)],null,function(n,l){n(l,1,0,e.Ya(l,2)._avatar,e.Ya(l,2)._avatar),n(l,7,0,e.gb(l,7,0,n(l,8,0,e.Ya(l.parent.parent,0),l.context.$implicit.timestamp,"shortTime"))),n(l,11,0,l.context.$implicit.user),n(l,13,0,l.context.$implicit.text),n(l,14,0,e.Ya(l,15).vertical?"vertical":"horizontal",e.Ya(l,15).vertical,e.Ya(l,15).inset)})}function S(n){return e.hb(0,[(n()(),e.Oa(0,0,null,null,21,"div",[["class","chat"]],null,null,null,null,null)),(n()(),e.Oa(1,0,null,null,16,"mat-input-container",[["class","w100p mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-focused",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,h.b,h.a)),e.Na(2,7389184,null,7,g.a,[e.k,e.h,[2,c.j]],null,null),e.db(335544320,2,{_control:0}),e.db(335544320,3,{_placeholderChild:0}),e.db(335544320,4,{_labelChild:0}),e.db(603979776,5,{_errorChildren:1}),e.db(603979776,6,{_hintChildren:1}),e.db(603979776,7,{_prefixChildren:1}),e.db(603979776,8,{_suffixChildren:1}),(n()(),e.Oa(10,0,null,1,7,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Send a message"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"keypress"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,t){var a=!0,i=n.component;return"input"===l&&(a=!1!==e.Ya(n,11)._handleInput(t.target.value)&&a),"blur"===l&&(a=!1!==e.Ya(n,11).onTouched()&&a),"compositionstart"===l&&(a=!1!==e.Ya(n,11)._compositionStart()&&a),"compositionend"===l&&(a=!1!==e.Ya(n,11)._compositionEnd(t.target.value)&&a),"blur"===l&&(a=!1!==e.Ya(n,16)._focusChanged(!1)&&a),"focus"===l&&(a=!1!==e.Ya(n,16)._focusChanged(!0)&&a),"input"===l&&(a=!1!==e.Ya(n,16)._onInput()&&a),"ngModelChange"===l&&(a=!1!==(i.text=t)&&a),"keypress"===l&&(a=!1!==i.sendChat(t)&&a),a},null,null)),e.Na(11,16384,null,0,f.c,[e.C,e.k,[2,f.a]],null,null),e.cb(1024,null,f.g,function(n){return[n]},[f.c]),e.Na(13,671744,null,0,f.k,[[8,null],[8,null],[8,null],[6,f.g]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.cb(2048,null,f.h,null,[f.k]),e.Na(15,16384,null,0,f.i,[[4,f.h]],null,null),e.Na(16,933888,null,0,y.a,[e.k,b.a,[6,f.h],[2,f.j],[2,f.d],c.d,[8,null]],{disabled:[0,"disabled"],placeholder:[1,"placeholder"]},null),e.cb(2048,[[2,4]],g.b,null,[y.a]),(n()(),e.Oa(18,0,null,null,3,"mat-list",[["class","mat-list"],["dense",""]],null,null,null,r.d,r.a)),e.Na(19,49152,null,0,o.a,[],null,null),(n()(),e.Fa(16777216,null,0,1,null,E)),e.Na(21,278528,null,0,d.i,[e.N,e.K,e.r],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,13,0,!t.currentPlaylist,t.text),n(l,16,0,!t.currentPlaylist,"Send a message"),n(l,21,0,t.messages)},function(n,l){n(l,1,1,[e.Ya(l,2)._control.errorState,e.Ya(l,2)._control.errorState,e.Ya(l,2)._canLabelFloat,e.Ya(l,2)._shouldLabelFloat(),e.Ya(l,2)._hideControlPlaceholder(),e.Ya(l,2)._control.disabled,e.Ya(l,2)._control.focused,e.Ya(l,2)._shouldForward("untouched"),e.Ya(l,2)._shouldForward("touched"),e.Ya(l,2)._shouldForward("pristine"),e.Ya(l,2)._shouldForward("dirty"),e.Ya(l,2)._shouldForward("valid"),e.Ya(l,2)._shouldForward("invalid"),e.Ya(l,2)._shouldForward("pending")]),n(l,10,1,[e.Ya(l,15).ngClassUntouched,e.Ya(l,15).ngClassTouched,e.Ya(l,15).ngClassPristine,e.Ya(l,15).ngClassDirty,e.Ya(l,15).ngClassValid,e.Ya(l,15).ngClassInvalid,e.Ya(l,15).ngClassPending,e.Ya(l,16)._isServer,e.Ya(l,16).id,e.Ya(l,16).placeholder,e.Ya(l,16).disabled,e.Ya(l,16).required,e.Ya(l,16).readonly,e.Ya(l,16)._ariaDescribedby||null,e.Ya(l,16).errorState,e.Ya(l,16).required.toString()])})}function j(n){return e.hb(0,[e.Za(0,d.d,[e.t]),e.db(402653184,1,{iframe:0}),(n()(),e.Oa(2,0,null,null,13,"div",[["class","stream"]],null,null,null,null,null)),(n()(),e.Oa(3,0,null,null,8,"div",[["class","player"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Oa(4,0,null,null,1,"jwplayer",[],null,[[null,"ready"],[null,"error"],[null,"playlistItem"]],function(n,l,t){var e=!0,a=n.component;return"ready"===l&&(e=!1!==a.onPlayerReady()&&e),"error"===l&&(e=!1!==a.onError(t)&&e),"playlistItem"===l&&(e=!1!==a.onPlaylistItem(t)&&e),e},C,w)),e.Na(5,4243456,null,0,v,[e.k],{settings:[0,"settings"]},{ready:"ready",playlistItem:"playlistItem",error:"error"}),(n()(),e.Oa(6,0,null,null,5,"div",[["class","status"]],null,null,null,null,null)),(n()(),e.Oa(7,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,M.b,M.a)),e.Na(8,638976,null,0,Y.b,[e.k,Y.d,[8,null]],null,null),(n()(),e.fb(-1,0,["person"])),(n()(),e.Oa(10,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.fb(11,null,["",""])),(n()(),e.Fa(16777216,null,null,1,null,W)),e.Na(13,16384,null,0,d.j,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(n()(),e.Fa(16777216,null,null,1,null,S)),e.Na(15,16384,null,0,d.j,[e.N,e.K],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,5,0,t.settings),n(l,8,0),n(l,13,0,t.flashNotAllowed),n(l,15,0,!1)},function(n,l){var t=l.component;n(l,3,0,t.flashNotAllowed),n(l,11,0,t.viewerCount)})}var F=e.Ka("app-stream",I,function(n){return e.hb(0,[(n()(),e.Oa(0,0,null,null,1,"app-stream",[],null,null,null,j,N)),e.Na(1,114688,null,0,I,[P.a,k.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),A=t("t/Na"),D=t("ZYjt"),T=t("ZYCi"),R=function(){};t.d(l,"StreamModuleNgFactory",function(){return z});var z=e.La(a,[],function(n){return e.Va([e.Wa(512,e.j,e.Aa,[[8,[i.a,F]],[3,e.j],e.w]),e.Wa(4608,f.o,f.o,[]),e.Wa(4608,d.l,d.k,[e.t,[2,d.t]]),e.Wa(6144,s.b,null,[d.c]),e.Wa(4608,s.c,s.c,[[2,s.b]]),e.Wa(5120,Y.d,Y.a,[[3,Y.d],[2,A.c],D.c,[2,d.c]]),e.Wa(4608,b.a,b.a,[]),e.Wa(4608,c.d,c.d,[]),e.Wa(1073742336,f.m,f.m,[]),e.Wa(1073742336,f.e,f.e,[]),e.Wa(1073742336,d.b,d.b,[]),e.Wa(1073742336,s.a,s.a,[]),e.Wa(256,c.f,!0,[]),e.Wa(1073742336,c.n,c.n,[[2,c.f]]),e.Wa(1073742336,Y.c,Y.c,[]),e.Wa(1073742336,c.p,c.p,[]),e.Wa(1073742336,b.b,b.b,[]),e.Wa(1073742336,c.y,c.y,[]),e.Wa(1073742336,c.w,c.w,[]),e.Wa(1073742336,u.b,u.b,[]),e.Wa(1073742336,o.d,o.d,[]),e.Wa(1073742336,g.c,g.c,[]),e.Wa(1073742336,y.b,y.b,[]),e.Wa(1073742336,T.m,T.m,[[2,T.s],[2,T.k]]),e.Wa(1073742336,R,R,[]),e.Wa(1073742336,a,a,[]),e.Wa(1024,T.i,function(){return[[{path:"",component:I}]]},[])])})}}]);
