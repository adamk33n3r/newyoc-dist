(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{uoM7:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),a=function(){},i=e("pMnS"),r=e("6UMx"),o=e("0/Q6"),u=e("LC5p"),s=e("Ip0R"),d=e("Fzqc"),c=e("Wf4p"),f=t.Ta({encapsulation:2,styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],data:{}});function m(n){return t.ob(2,[],null,null)}var p=e("dJrM"),b=e("seP3"),h=e("dWZg"),g=e("wFw1"),y=e("gIcY"),v=e("b716"),w=e("/VYK"),_=function(){function n(n){this.elementRef=n,this.ready=new t.o,this.playlistItem=new t.o,this.error=new t.o}return Object.defineProperty(n.prototype,"Player",{get:function(){return this.player},enumerable:!0,configurable:!0}),n.prototype.ngAfterViewInit=function(){this.setupInternal()},n.prototype.setupInternal=function(){var n=this,l=window.jwplayer(this.playerEle.nativeElement).setup(this.settings);l.onReady(function(){}),window.addEventListener("resize",function(){}),this.player=l,this.player.onReady(function(){n.ready.emit()}),this.player.onPlaylistItem(function(l){n.playlistItem.emit(l)}),this.player.onError(function(l){n.error.emit(l)}),this.player.onSetupError(function(l){n.error.emit(l)})},n.prototype.setupIFrame=function(){var n=this,l=this.iframe.nativeElement;l.onload=function(){var e=l.contentWindow,t=e.document;e.init=function(n){var a=t.createElement("div");function i(){var n=t.getElementById("player");l.width=l.parentElement.parentElement.clientWidth+"px",l.height=n.scrollHeight+"px"}a.id="player",t.body.appendChild(a);var r=e.jwplayer(a).setup(n);return r.onReady(function(){i()}),window.addEventListener("resize",function(){i()}),r};var a=t.createElement("script");a.src="assets/jwplayer/jwplayer.js",a.onload=function(){e.jwplayer.key="5YkESdD6u5l8luORkA5ZUOdzUGDlzokaiidsaw==",n.player=e.init(n.settings),n.player.onReady(function(){n.ready.emit()}),n.player.onPlaylistItem(function(l){n.playlistItem.emit(l)}),n.player.onError(function(l){n.error.emit(l)})},t.head.appendChild(a),t.body.style.cssText="margin: 0; overflow: hidden;"}},n}(),C=t.Ta({encapsulation:0,styles:["iframe[_ngcontent-%COMP%] {\n            border: none;\n        }"],data:{}});function M(n){return t.ob(0,[t.kb(402653184,1,{iframe:0}),t.kb(402653184,2,{playerEle:0}),(n()(),t.Va(2,0,[[2,0],["player",1]],null,0,"div",[["id","player"]],null,null,null,null,null))],null,null)}var k,P,O=e("Mr+X"),x=e("SMsm"),I=e("5U9e"),E=e("lGQG"),V={playlist:[{image:"/assets/images/yoc.png",title:"Default",description:"Stream stuff, mane",file:"rtmp://eon.adam-keenan.net/live/default"},{title:"TEST",description:"Nothing to see here",file:"rtmp://eon.adam-keenan.net/live/test"},{title:"Movienight",description:"We watch movies together",file:"rtmp://eon.adam-keenan.net/live/movienight"},{title:"Mike",description:"Mike plays gams",file:"rtmp://eon.adam-keenan.net/live/mike"}],width:"100%",aspectratio:"16:9",hlshtml:!0,primary:"flash",autostart:"yoc.adam-keenan.com"===window.location.hostname&&!1,skin:{name:"glow"},logo:{file:"/assets/images/yoc-100px-50a.png",hide:!0}};!function(n){n.Connect="chat:connect",n.Disconnect="chat:disconnect",n.Message="chat:message"}(k||(k={})),function(n){n.ViewerCount="stream:viewerCount"}(P||(P={}));var U=function(){function n(n,l){this.socket=n,this.auth=l,this.flashNotAllowed=!1,this.viewerCount=0,this.settings=V,this.intervalID=0,this.unreadMessages=0,this.title=window.document.title}return Object.defineProperty(n.prototype,"messages",{get:function(){return(JSON.parse(localStorage.getItem("chatMessages"))||{})[this.currentPlaylist]||[]},set:function(n){var l=JSON.parse(localStorage.getItem("chatMessages"))||{};l[this.currentPlaylist]=n,localStorage.setItem("chatMessages",JSON.stringify(l))},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;this.filterOutOldMessages(),this.socket.on(P.ViewerCount,function(l){n.viewerCount=l}),"denied"===Notification.permission&&"granted"===Notification.permission||Notification.requestPermission(),void 0!==window.document.hidden?(this.hiddenAttr="hidden",this.visChangeEvent="visibilitychange"):void 0!==window.document.msHidden?(this.hiddenAttr="msHidden",this.visChangeEvent="msvisibilitychange"):void 0!==window.document.webkitHidden&&(this.hiddenAttr="webkitHidden",this.visChangeEvent="webkitvisibilitychange"),window.document.addEventListener(this.visChangeEvent,function(){n.isTabbedAway()||(n.unreadMessages=0,window.clearInterval(n.intervalID),n.intervalID=0,n.updateTitle())})},n.prototype.onPlayerReady=function(){},n.prototype.onPlaylistItem=function(n){this.currentPlaylist=n.item.title,this.messages?this.filterOutOldMessages():this.messages=[]},n.prototype.onError=function(n){"Error loading player: No playable sources found"===n.message&&(console.error(n),this.flashNotAllowed=!0)},n.prototype.sendChat=function(n){13===n.keyCode&&""!==this.text&&(this.socket.emit("chat:message",{user:this.user,text:this.text,playlist:this.currentPlaylist,timestamp:Date.now()}),this.text="",n.preventDefault())},n.prototype.isTabbedAway=function(){return window.document[this.hiddenAttr]},n.prototype.updateTitle=function(){window.document.title=this.unreadMessages>0?"("+this.unreadMessages+") "+this.title:this.title},n.prototype.addMessage=function(n){var l=this.messages;l.unshift(n),this.messages=l},n.prototype.generateGuestName=function(){var n=Math.floor(1e4*Math.random());this.user="Guest#"+n},n.prototype.setupUser=function(){this.auth.isAuthenticated()?(this.user=this.auth.name,this.socket.emit(k.Connect,this.user)):this.generateGuestName()},n.prototype.filterOutOldMessages=function(){var n=Date.now(),l=this.messages.filter(function(l){return n-l.timestamp<864e5});this.messages=l},n}(),S=t.Ta({encapsulation:0,styles:[[".stream[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border:none}.stream[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end;background:#d3d3d3;padding:5px;margin-top:-4px}.stream[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{position:absolute;right:15px;top:75px;bottom:15px;width:400px}.stream[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:50px;resize:none}.stream[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{margin-top:-17px;overflow-y:auto;height:calc(100% - 79px);word-break:break-word}.stream[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{color:rgba(0,0,0,.87)}.stream[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:nth-child(even){background-color:rgba(0,0,0,.1)}"]],data:{}});function j(n){return t.ob(0,[(n()(),t.Va(0,0,null,null,1,"object",[],null,null,null,null,null)),(n()(),t.Va(1,0,null,null,0,"embed",[["src","/assets/jwplayer/jwplayer.flash.swf"]],null,null,null,null,null))],null,null)}function D(n){return t.ob(0,[(n()(),t.Va(0,0,null,null,16,"div",[["class","message"]],null,null,null,null,null)),(n()(),t.Va(1,0,null,null,13,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"focus"],[null,"blur"]],function(n,l,e){var a=!0;return"focus"===l&&(a=!1!==t.fb(n,2)._handleFocus()&&a),"blur"===l&&(a=!1!==t.fb(n,2)._handleBlur()&&a),a},r.c,r.b)),t.Ua(2,1097728,null,3,o.c,[t.l,[2,o.f]],null,null),t.kb(603979776,9,{_lines:1}),t.kb(335544320,10,{_avatar:0}),t.kb(335544320,11,{_icon:0}),(n()(),t.Va(6,0,null,2,8,"div",[],null,null,null,null,null)),(n()(),t.Va(7,0,null,null,2,"small",[],null,null,null,null,null)),(n()(),t.mb(8,null,["",""])),t.ib(9,2),(n()(),t.mb(-1,null,["\xa0 "])),(n()(),t.Va(11,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.mb(12,null,["",":\xa0"])),(n()(),t.Va(13,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.mb(14,null,["",""])),(n()(),t.Va(15,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,m,f)),t.Ua(16,49152,null,0,u.a,[],null,null)],null,function(n,l){n(l,1,0,t.fb(l,2)._avatar||t.fb(l,2)._icon,t.fb(l,2)._avatar||t.fb(l,2)._icon),n(l,8,0,t.nb(l,8,0,n(l,9,0,t.fb(l.parent.parent,0),l.context.$implicit.timestamp,"shortTime"))),n(l,12,0,l.context.$implicit.user),n(l,14,0,l.context.$implicit.text),n(l,15,0,t.fb(l,16).vertical?"vertical":"horizontal",t.fb(l,16).vertical,!t.fb(l,16).vertical,t.fb(l,16).inset)})}function F(n){return t.ob(0,[(n()(),t.Va(0,0,null,null,21,"div",[["class","chat"]],null,null,null,null,null)),(n()(),t.Va(1,0,null,null,16,"mat-form-field",[["class","w100p mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,p.b,p.a)),t.Ua(2,7389184,null,7,b.b,[t.l,t.i,[2,c.j],[2,d.b],[2,b.a],h.a,t.D,[2,g.a]],null,null),t.kb(335544320,2,{_control:0}),t.kb(335544320,3,{_placeholderChild:0}),t.kb(335544320,4,{_labelChild:0}),t.kb(603979776,5,{_errorChildren:1}),t.kb(603979776,6,{_hintChildren:1}),t.kb(603979776,7,{_prefixChildren:1}),t.kb(603979776,8,{_suffixChildren:1}),(n()(),t.Va(10,0,null,1,7,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Send a message"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"keypress"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,e){var a=!0,i=n.component;return"input"===l&&(a=!1!==t.fb(n,11)._handleInput(e.target.value)&&a),"blur"===l&&(a=!1!==t.fb(n,11).onTouched()&&a),"compositionstart"===l&&(a=!1!==t.fb(n,11)._compositionStart()&&a),"compositionend"===l&&(a=!1!==t.fb(n,11)._compositionEnd(e.target.value)&&a),"blur"===l&&(a=!1!==t.fb(n,16)._focusChanged(!1)&&a),"focus"===l&&(a=!1!==t.fb(n,16)._focusChanged(!0)&&a),"input"===l&&(a=!1!==t.fb(n,16)._onInput()&&a),"ngModelChange"===l&&(a=!1!==(i.text=e)&&a),"keypress"===l&&(a=!1!==i.sendChat(e)&&a),a},null,null)),t.Ua(11,16384,null,0,y.b,[t.I,t.l,[2,y.a]],null,null),t.jb(1024,null,y.e,function(n){return[n]},[y.b]),t.Ua(13,671744,null,0,y.i,[[8,null],[8,null],[8,null],[6,y.e]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t.jb(2048,null,y.f,null,[y.i]),t.Ua(15,16384,null,0,y.g,[[4,y.f]],null,null),t.Ua(16,999424,null,0,v.a,[t.l,h.a,[6,y.f],[2,y.h],[2,y.c],c.d,[8,null],w.a,t.D],{disabled:[0,"disabled"],placeholder:[1,"placeholder"]},null),t.jb(2048,[[2,4]],b.c,null,[v.a]),(n()(),t.Va(18,0,null,null,3,"mat-list",[["class","mat-list"],["dense",""]],null,null,null,r.d,r.a)),t.Ua(19,49152,null,0,o.a,[],null,null),(n()(),t.Ma(16777216,null,0,1,null,D)),t.Ua(21,278528,null,0,s.j,[t.U,t.R,t.w],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,13,0,!e.currentPlaylist,e.text),n(l,16,0,!e.currentPlaylist,"Send a message"),n(l,21,0,e.messages)},function(n,l){n(l,1,1,["standard"==t.fb(l,2).appearance,"fill"==t.fb(l,2).appearance,"outline"==t.fb(l,2).appearance,"legacy"==t.fb(l,2).appearance,t.fb(l,2)._control.errorState,t.fb(l,2)._canLabelFloat,t.fb(l,2)._shouldLabelFloat(),t.fb(l,2)._hideControlPlaceholder(),t.fb(l,2)._control.disabled,t.fb(l,2)._control.autofilled,t.fb(l,2)._control.focused,"accent"==t.fb(l,2).color,"warn"==t.fb(l,2).color,t.fb(l,2)._shouldForward("untouched"),t.fb(l,2)._shouldForward("touched"),t.fb(l,2)._shouldForward("pristine"),t.fb(l,2)._shouldForward("dirty"),t.fb(l,2)._shouldForward("valid"),t.fb(l,2)._shouldForward("invalid"),t.fb(l,2)._shouldForward("pending"),!t.fb(l,2)._animationsEnabled]),n(l,10,1,[t.fb(l,15).ngClassUntouched,t.fb(l,15).ngClassTouched,t.fb(l,15).ngClassPristine,t.fb(l,15).ngClassDirty,t.fb(l,15).ngClassValid,t.fb(l,15).ngClassInvalid,t.fb(l,15).ngClassPending,t.fb(l,16)._isServer,t.fb(l,16).id,t.fb(l,16).placeholder,t.fb(l,16).disabled,t.fb(l,16).required,t.fb(l,16).readonly,t.fb(l,16)._ariaDescribedby||null,t.fb(l,16).errorState,t.fb(l,16).required.toString()])})}function N(n){return t.ob(0,[t.gb(0,s.e,[t.y]),t.kb(402653184,1,{iframe:0}),(n()(),t.Va(2,0,null,null,13,"div",[["class","stream"]],null,null,null,null,null)),(n()(),t.Va(3,0,null,null,8,"div",[["class","player"]],[[8,"hidden",0]],null,null,null,null)),(n()(),t.Va(4,0,null,null,1,"jwplayer",[],null,[[null,"ready"],[null,"error"],[null,"playlistItem"]],function(n,l,e){var t=!0,a=n.component;return"ready"===l&&(t=!1!==a.onPlayerReady()&&t),"error"===l&&(t=!1!==a.onError(e)&&t),"playlistItem"===l&&(t=!1!==a.onPlaylistItem(e)&&t),t},M,C)),t.Ua(5,4243456,null,0,_,[t.l],{settings:[0,"settings"]},{ready:"ready",playlistItem:"playlistItem",error:"error"}),(n()(),t.Va(6,0,null,null,5,"div",[["class","status"]],null,null,null,null,null)),(n()(),t.Va(7,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,O.b,O.a)),t.Ua(8,638976,null,0,x.a,[t.l,x.c,[8,null]],null,null),(n()(),t.mb(-1,0,["person"])),(n()(),t.Va(10,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.mb(11,null,["",""])),(n()(),t.Ma(16777216,null,null,1,null,j)),t.Ua(13,16384,null,0,s.k,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(n()(),t.Ma(16777216,null,null,1,null,F)),t.Ua(15,16384,null,0,s.k,[t.U,t.R],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,5,0,e.settings),n(l,8,0),n(l,13,0,e.flashNotAllowed),n(l,15,0,!1)},function(n,l){var e=l.component;n(l,3,0,e.flashNotAllowed),n(l,7,0,t.fb(l,8).inline),n(l,11,0,e.viewerCount)})}var A=t.Ra("app-stream",U,function(n){return t.ob(0,[(n()(),t.Va(0,0,null,null,1,"app-stream",[],null,null,null,N,S)),t.Ua(1,114688,null,0,U,[I.a,E.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),R=e("M2Lx"),T=e("ZYCi"),z=function(){};e.d(l,"StreamModuleNgFactory",function(){return G});var G=t.Sa(a,[],function(n){return t.cb([t.db(512,t.k,t.Ha,[[8,[i.a,A]],[3,t.k],t.B]),t.db(4608,y.l,y.l,[]),t.db(4608,s.m,s.l,[t.y,[2,s.v]]),t.db(4608,R.c,R.c,[]),t.db(4608,c.d,c.d,[]),t.db(1073742336,y.j,y.j,[]),t.db(1073742336,y.d,y.d,[]),t.db(1073742336,s.c,s.c,[]),t.db(1073742336,d.a,d.a,[]),t.db(1073742336,c.n,c.n,[[2,c.f]]),t.db(1073742336,x.b,x.b,[]),t.db(1073742336,c.p,c.p,[]),t.db(1073742336,h.b,h.b,[]),t.db(1073742336,c.y,c.y,[]),t.db(1073742336,c.w,c.w,[]),t.db(1073742336,u.b,u.b,[]),t.db(1073742336,o.d,o.d,[]),t.db(1073742336,w.c,w.c,[]),t.db(1073742336,R.d,R.d,[]),t.db(1073742336,b.d,b.d,[]),t.db(1073742336,v.b,v.b,[]),t.db(1073742336,T.m,T.m,[[2,T.s],[2,T.k]]),t.db(1073742336,z,z,[]),t.db(1073742336,a,a,[]),t.db(1024,T.i,function(){return[[{path:"",component:U}]]},[])])})}}]);